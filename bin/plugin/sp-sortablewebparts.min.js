!function(a,b,c,d){"use strict";var e={},f={placeholder:".ui-sortable-placeholder",webpart:".ms-webpartzone-cell",zone:".ms-SPZone"},g={body:a("body"),webpartZone:a(f.zone),webparts:a(f.webpart)},h="MSOZone_EmptyZoneCell",i=f.placeholder+" + "+f.webpart+", "+f.placeholder+" + #"+h;e.prototypeSetup=function(){HTMLDivElement.prototype.swapNode=function(b){var c=a(b);c.attr("style",""),this.outerHTML=b.outerHTML,c.remove()},HTMLDivElement.prototype.removeNode=function(){return!1}},e.setup=function(){e.prototypeSetup(),g.webpartZone.sortable({connectWith:f.zone,handle:"span.js-webpart-titleCell",items:f.webpart}),g.webparts.on("mouseup",function(){var b=a(f.placeholder)[0];b&&b.previousElementSibling.id===h&&b.parentNode.insertBefore(b,b.previousElementSibling);var c=a(i)[0];c&&(MSOLayout_zoneDragOver=g.body[0],MSOLayout_currentDragMode="move",MSOLayout_iBar.setAttribute("goodDrop",!0),MSOLayout_MoveWebPart(this,c))})},e.isEditMode=function(){var b,c,d;return c="1"===a("#MSOLayout_InDesignMode").val(),d="Edit"===a("#_wikiPageMode").val(),b=c||d},e.init=function(){HTMLDivElement.prototype.dragDrop===d&&e.isEditMode()&&a().sortable&&e.setup()},e.init()}(jQuery,window,document);